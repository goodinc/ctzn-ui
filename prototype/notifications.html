<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>Prototype / CTZN</title>

  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="stylesheet" href="../css/shared.css" />

  <script>
    // fonts.com tracking
    var MTIProjectId = "10a9d239-187d-4d7f-856c-2687a38610fd";
    (function() {
      var t = document.createElement("script"); t.type = "text/javascript"; t.async = "true";
      t.src = "//fast.fonts.net/t/trackingCode.js";
      var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(t, s);
    })();
  </script>

</head>
<body>

  <section class="notifications page">
    <header>
      <h1>Notifications</h1>

      <a href="#push" class="back" data-bind="click: good.onNavClick">
        Go Back
      </a>
    </header>

    <div>
      <!-- ko if: notifications().length == 0 -->
      <p>You donâ€™t have any notifications just yet.</p>
      <!-- /ko -->

      <!-- ko if: unreadNotifications().length > 0 -->
      <h2>Recent</h2>
      <ol class="post-list" data-bind="foreach: unreadNotifications">
        <li>
          <article data-bind="click: function() { $root.handleNotificationClicked($data) }">
            <header>
              <h3>
                <!-- ko with: notifier -->
                <a href="" data-bind="click: function(){ $root.handleUserClicked($data) }, clickBubble: false">
                  <span class="avatar" data-bind="if: profile_image">
                    <img data-bind="attr: { src: sizedS3Image(profile_image, good.S3_AVATAR_SIZE) }" height="30" width="30" alt="" />
                  </span>
                  <span class="avatar" data-bind="if: !profile_image">
                    <span class="size30" data-bind="{ attr: { 'data-content': username.charAt(0).replace('[', '*') }, css: good.avatarColor(id) }"></span>
                  </span>
                  <span data-bind="text: username"></span>
                </a>
                <!-- /ko -->

                <!-- ko if: type == 0 -->
                mentioned you in a post on <span data-bind='text: push.name'></span>:
                <!-- /ko -->

                <!-- ko if: type == 1 -->
                mentioned you in a comment on <span data-bind='text: push.name'></span>:
                <!-- /ko -->

                <!-- ko if: type == 2 -->
                commented on your post on <span data-bind='text: push.name'></span>:
                <!-- /ko -->

                <!-- ko if: type == 3 -->
                gave your post on <span data-bind='text: push.name'></span> some love:
                <!-- /ko -->

                <!-- ko if: type == 4 -->
                gave your mix some love:
                <!-- /ko -->

                <!-- ko if: type == 5 -->
                commented on a post you've commented on in <span data-bind='text: push.name'></span>:
                <!-- /ko -->

              </h3>
            </header>
            <div class="body" data-bind="html: good.postBodyToHtml(post.body)"></div>
            <p class="time">
              <time data-bind="attr: { datetime: createdAt }, text: good.timeAgo.inWords(createdAt)"></time>
            </p>
          </article>
        </li>
      </ol>
      <!-- /ko -->

      <!-- ko if: notifications().length > 0 -->

        <!-- ko if: unreadNotifications().length > 0 -->
          <h2>Older</h2>
        <!-- /ko -->

      <ol class="post-list" data-bind="foreach: notifications">
        <li>
          <article data-bind="click: function() { $root.handleNotificationClicked($data) }">
            <header>
              <h3>
                <!-- ko with: notifier -->
                <a href="" data-bind="click: function(){ $root.handleUserClicked($data) }, clickBubble: false">
                  <span class="avatar" data-bind="if: profile_image">
                    <img data-bind="attr: { src: sizedS3Image(profile_image, good.S3_AVATAR_SIZE) }" height="30" width="30" alt="" />
                  </span>
                  <span class="avatar" data-bind="if: !profile_image">
                    <span class="size30" data-bind="{ attr: { 'data-content': username.charAt(0).replace('[', '*') }, css: good.avatarColor(id) }"></span>
                  </span>
                  <span data-bind="text: username"></span>
                </a>
                <!-- /ko -->

                <!-- ko if: type == 0 -->
                mentioned you in a post on <span data-bind='text: push.name'></span>:
                <!-- /ko -->

                <!-- ko if: type == 1 -->
                mentioned you in a comment on <span data-bind='text: push.name'></span>:
                <!-- /ko -->

                <!-- ko if: type == 2 -->
                commented on your post on <span data-bind='text: push.name'></span>:
                <!-- /ko -->

                <!-- ko if: type == 3 -->
                gave your post on <span data-bind='text: push.name'></span> some love:
                <!-- /ko -->

                <!-- ko if: type == 4 -->
                gave your mix some love:
                <!-- /ko -->

                <!-- ko if: type == 5 -->
                commented on a post you've commented on in <span data-bind='text: push.name'></span>:
                <!-- /ko -->

              </h3>
            </header>
            <div class="body" data-bind="html: good.postBodyToHtml(post.body)"></div>
            <p class="time">
              <time data-bind="attr: { datetime: createdAt }, text: good.timeAgo.inWords(createdAt)"></time>
            </p>
          </article>
        </li>
      </ol>
      <!-- /ko -->
    </div>
  </section>

</body>
</html>
